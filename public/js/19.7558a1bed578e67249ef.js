webpackJsonp([19],{"5wYt":function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,".avatar{width:50px;margin:0 auto}",""])},"6Cfo":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},n=a("NYxO");t.default={data:function(){return{fields:[{name:"id",trans:"el.table.id",titleClass:"width-5-percent text-center",dataClass:"text-center"},{name:"avatar",trans:"el.table.avatar",titleClass:"text-center",dataClass:"text-center",callback:"avatar"},{name:"__name",trans:"el.table.username"},{name:"mobile",trans:"el.table.mobile",icon:"ion-ios-telephone"},{name:"email",trans:"el.table.email",icon:"ion-email",iconStyle:"padding-right:5px"},{name:"__component",trans:"el.table.status",titleClass:"text-center",dataClass:"text-center"},{name:"created_at",trans:"el.table.created_at"},{name:"__actions",trans:"el.table.action",titleClass:"text-center",dataClass:"text-center"}],fiterFields:[{name:"id",trans:"el.table.id",type:"text",value:""},{name:"name",trans:"el.table.name",type:"text",value:""},{name:"email",trans:"el.table.email",type:"text",value:""},{name:"status",trans:"el.table.status",type:"radio",value:"所有"},{name:"created_at",trans:"el.table.created_at",type:"datetime",value:[]}],itemActions:[{name:"delete-item",icon:"ion-trash-b",class:"btn btn-danger disabled"},{name:"edit-item",icon:"ion-edit",class:"btn btn-info disabled"}],createUser:!1}},created:function(){for(var e=this,t=0;t<e.$store.state.permissions.length;t++)"create-user"!=e.$store.state.permissions[t].name?"delete-user"!=e.$store.state.permissions[t].name?"update-user"!=e.$store.state.permissions[t].name||(e.itemActions[1].class="btn btn-info"):e.itemActions[0].class="btn btn-danger":e.createUser=!0},computed:s({},(0,n.mapState)(["isPhone"])),methods:{avatar:function(e){return'<img src="'+e+'" class="avatar img-responsive img-circle" />'},tableActions:function(e,t){var a=this;"edit-item"==e?this.$router.push("/users/"+t.id+"/edit"):"delete-item"==e&&axios.delete("/api/user/"+t.id,{headers:{Authorization:"Bearer "+this.$store.state.access_token}}).then(function(e){toastr.success(a.$t("el.notification.delete_user")),a.$emit("reload")},function(e){"string"!=typeof e.response.data.error&&e.response.data.error?toastr.error(e.response.data.error.message):toastr.error(e.response.status+" : Resource "+e.response.statusText)})}}}},ILWh:function(e,t,a){var s=a("5wYt");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("rjj0")("e37762ec",s,!0,{})},"X+iu":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.isPhone?"":"row"},[a("vue-table",{attrs:{title:e.$t("el.page.users"),itemActions:e.itemActions,fields:e.fields,"api-url":"/api/users?include=roles","show-paginate":""},on:{"table-action":e.tableActions}},[a("div",{attrs:{slot:"buttons"},slot:"buttons"},[a("vue-table-filtra",{attrs:{fiterFields:e.fiterFields}}),e._v(" "),a("router-link",{staticClass:"btn btn-info btn-xs",class:{disabled:!e.createUser},staticStyle:{"margin-bottom":"2px"},attrs:{to:"/users/create"}},[e._v("\n              "+e._s(e.$t("el.page.create"))+"\n            ")])],1)])],1)},staticRenderFns:[]}},t3Cs:function(e,t,a){var s=a("VU/8")(a("6Cfo"),a("X+iu"),!1,function(e){a("ILWh")},null,null);e.exports=s.exports}});