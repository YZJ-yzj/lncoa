webpackJsonp([9],{"/3jm":function(e,t,a){var s=a("bVlJ");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("rjj0")("41b9bef9",s,!0,{})},"0ZXJ":function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"margin-bottom":"5px","min-width":"220px"}},[t("div",{attrs:{id:"geetest-captcha"}}),this._v(" "),t("p",{attrs:{id:"wait"}},[this._v(this._s(this.$t("el.form.code_placeholder")))])])},staticRenderFns:[]}},"6mDc":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{gtserver:"",user_id:"",captchaObj:{}}},created:function(){this.geetest("/geetest")},methods:{geetest:function(e){var t=this,a=function(e){t.captchaObj=e,$("#geetest-captcha").html()||e.appendTo("#geetest-captcha"),e.onReady(function(){$("#wait")[0].className="hide"}),e.onSuccess(function(){var a=e.getValidate();a.gtserver=t.gtserver,a.user_id=t.user_id,t.$emit("validate",a)})};$.ajax({url:e+"?t="+(new Date).getTime(),type:"get",dataType:"json",success:function(e){t.gtserver=e.gtserver,t.user_id=e.user_id,initGeetest({gt:e.gt,challenge:e.challenge,product:"popup",offline:!e.success,new_captcha:!0,width:"100%",lang:window.Language},a)}})},reset:function(){this.captchaObj.reset()}}}},AB2z:function(e,t,a){var s=a("VU/8")(a("sPx5"),a("JCSy"),!1,function(e){a("fFwj")},null,null);e.exports=s.exports},HU7h:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"#login-container{width:100%;height:100%;position:absolute;-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;//:all .3s ease-in-out;transition:all .3s ease-in-out}#login-wrapper{margin:100px auto;float:none}#login-wrapper .form-control{color:#717171;outline:0;height:18px;padding:6px 11px;line-height:18px;font-size:13px;background-color:#fafafa;min-height:36px;-webkit-filter:none!important;filter:none!important;-webkit-box-shadow:none!important;-moz-box-shadow:none!important;border-radius:3px;-webkit-transition:all .2s linear;transition:all .2s linear}#login-wrapper .form-control:focus{border-color:#7c7c7c}#login-wrapper #password,#login-wrapper #username{padding-left:32px}#login-wrapper .form-group i{position:absolute;left:27px;top:5px}#login-wrapper .remember{float:right;opacity:.6;margin-bottom:0}#login-wrapper .help-block{margin-bottom:0}#login-wrapper .form-horizontal .checkbox{padding-top:0}#geetest-captcha .geetest_holder.geetest_wind{min-width:220px}#login-wrapper .form-group.has-feedback.has-error{margin-bottom:0}@media (max-width:768px){#login-wrapper{width:90%;margin-top:80px}}",""])},JCSy:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{attrs:{id:"login-container"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3",attrs:{id:"login-wrapper"}},[a("div",{staticClass:"panel panel-primary animated flipInY"},[a("div",{staticClass:"panel-heading"},[a("h3",{staticClass:"panel-title"},[e._v("\n                        "+e._s(e.$t("el.form.sign_in"))+"\n                    ")])]),e._v(" "),a("div",{staticClass:"panel-body"},[a("p",[e._v(e._s(e.$t("el.form.login_placeholder")))]),e._v(" "),a("form",{staticClass:"form-horizontal",attrs:{method:"post",role:"form"},on:{submit:function(t){return t.preventDefault(),e.validateBeforeSubmit(t)}}},[a("div",{staticClass:"form-group email has-feedback",class:{"has-error":"error"==e.state||e.usernameFlags.invalid}},[a("div",{staticClass:"col-md-12 "},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:{rules:{required:!0,regex:/^[\u4e00-\u9fa5_a-zA-Z0-9-]{2,16}|[a-z]([a-z0-9]*[-_]?[a-z0-9]+)*@([a-z0-9]*[-_]?[a-z0-9]+)+[\.][a-z]{2,3}([\.][a-z]{2})?$/i}},expression:"{  rules: {required: true, regex: /^[\\u4e00-\\u9fa5_a-zA-Z0-9-]{2,16}|[a-z]([a-z0-9]*[-_]?[a-z0-9]+)*@([a-z0-9]*[-_]?[a-z0-9]+)+[\\.][a-z]{2,3}([\\.][a-z]{2})?$/i} }"},{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",attrs:{name:"username",type:"text",id:"username",placeholder:e.$t("el.form.username_placeholder"),required:"",autofocus:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),e._v(" "),a("i",{staticClass:"ion-android-person"}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"error"==e.state,expression:"state == 'error'"}],staticClass:"help-block"},[a("strong",[e._v(e._s(e.message))])]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("username"),expression:"errors.has('username')"}],staticClass:"help-block"},[a("strong",[e._v(e._s(e.errors.first("username")))])])])]),e._v(" "),a("div",{staticClass:"form-group has-feedback",class:{"has-error":e.passwordFlags.invalid},staticStyle:{"margin-bottom":"0px"}},[a("div",{staticClass:"col-md-12"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:5|max:16",expression:"'required|min:5|max:16'"},{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{name:"password",type:"password",id:"password",placeholder:e.$t("el.form.password"),required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),a("i",{staticClass:"ion-locked"}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.PasswordError,expression:"PasswordError"}],staticClass:"help-block"},e._l(e.PasswordError,function(t){return a("strong",[e._v(e._s(t))])})),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("password"),expression:"errors.has('password')"}],staticClass:"help-block"},[a("strong",[e._v(e._s(e.errors.first("password")))])]),e._v(" "),a("router-link",{attrs:{to:"/password_reset"}},[e._v("\n                                    "+e._s(e.$t("el.form.forgot_your_password"))+"\n                                ")])],1)]),e._v(" "),a("div",{staticClass:"checkbox row",staticStyle:{"padding-bottom":"5px"}},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.remember,expression:"remember"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.remember)?e._i(e.remember,null)>-1:e.remember},on:{change:function(t){var a=e.remember,s=t.target,r=!!s.checked;if(Array.isArray(a)){var o=e._i(a,null);s.checked?o<0&&(e.remember=a.concat([null])):o>-1&&(e.remember=a.slice(0,o).concat(a.slice(o+1)))}else e.remember=r}}}),e._v(" "+e._s(e.$t("el.form.remember"))+"\n                          ")]),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:e.remember,expression:"remember"}],staticClass:"remember"},[e._v(e._s(e.$t("el.form.remember_placeholder")))])]),e._v(" "),a("Geetest",{ref:"geetest",on:{validate:e.validate}}),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-md-12"},[a("button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"btn btn-primary btn-block",attrs:{type:"submit",disabled:!e.formDirty||e.validateGeetest,name:"button"}},[e._v("\n                                   "+e._s(e.$t("el.form.sign_in"))+"\n                                 ")]),e._v(" "),a("hr"),e._v(" "),a("router-link",{staticClass:"btn btn-default btn-block",attrs:{to:"/register",exact:""}},[e._v(e._s(e.$t("el.form.not_a_member")))])],1)])],1)])])])])])},staticRenderFns:[]}},bVlJ:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,".hide[data-v-a035488a]{display:none}.show[data-v-a035488a]{display:block}",""])},fFwj:function(e,t,a){var s=a("HU7h");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("rjj0")("8b01fc9c",s,!0,{})},myZQ:function(e,t,a){var s=a("VU/8")(a("6mDc"),a("0ZXJ"),!1,function(e){a("/3jm")},"data-v-a035488a",null);e.exports=s.exports},sPx5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},r=l(a("myZQ")),o=l(a("WmUf")),n=a("NYxO"),i=a("sUu7");function l(e){return e&&e.__esModule?e:{default:e}}t.default={name:"login",data:function(){return{username:null,password:null,emailError:null,PasswordError:null,state:"",message:"",remember:!1,geetest:{},fullscreenLoading:!1}},created:function(){this.$validator.updateDictionary({zh_CN:{attributes:{username:"用户名",password:"密码"}}})},components:{Geetest:r.default},computed:s({},(0,i.mapFields)({usernameFlags:"username",passwordFlags:"password"}),{formDirty:function(){var e=this;return Object.keys(this.validataFields).some(function(t){return e.validataFields[t].dirty})},validateGeetest:function(){return $.isEmptyObject(this.geetest)}}),methods:s({},(0,n.mapMutations)(["SET_ACCESS_TOKEN","LOGIN","SET_USER"]),{validate:function(e){this.geetest=e},validateBeforeSubmit:function(e){var t=this,a=this;a.$validator.validateAll().then(function(){a.validateGeetest?toastr.warning(t.$t("el.notification.code_warning")):a.onLogin(e)}).catch(function(){toastr.error(a.$t("el.notification.submit_data_error"))})},onLogin:function(){var e=this;if(e.$loading(),this.geetest){var t={username:e.username,password:e.password};Object.assign(t,this.geetest),axios.post(o.default.api.login,t).then(function(t){e.message="",e.state="success",e.remember?localStorage.setItem("access_token",t.data.access_token):sessionStorage.setItem("access_token",t.data.access_token),localStorage.setItem(e.username+"_refresh_token",t.data.refresh_token),e.SET_ACCESS_TOKEN(t.data.access_token),axios.defaults.headers.common.Authorization="Bearer "+t.data.access_token,e.SET_USER(t.data),e.$loading().close(),e.$router.push("/")},function(t){e.$refs.geetest.reset(),e.$loading().close(),403==t.response.status?(e.message=t.response.data.message,e.state=t.response.data.status):toastr.error(t.response.status+" : Resource "+t.response.statusText)})}}})}}});